# Generated by Django 5.2.10 on 2026-02-24 21:21

import collections
import django.contrib.sites.shortcuts
import django.db.models.deletion
import django.utils.timezone
import django_countries.fields
import enterprise.constants
import enterprise.validators
import jsonfield.encoder
import jsonfield.fields
import model_utils.fields
import uuid
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ("sites", "0002_alter_domain_unique"),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name="AdminNotification",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="BulkCatalogQueryUpdateCommandConfiguration",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="DefaultEnterpriseEnrollmentIntention",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="EnrollmentNotificationEmailTemplate",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="EnterpriseCatalogQuery",
            fields=[
                ("title", models.CharField(max_length=255)),
                (
                    "uuid",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="EnterpriseCustomerBrandingConfiguration",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="EnterpriseCustomerInviteKey",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="EnterpriseCustomerReportingConfiguration",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="EnterpriseCustomerSsoConfiguration",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="EnterpriseEnrollmentSource",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "created",
                    model_utils.fields.AutoCreatedField(
                        default=django.utils.timezone.now,
                        editable=False,
                        verbose_name="created",
                    ),
                ),
                (
                    "modified",
                    model_utils.fields.AutoLastModifiedField(
                        default=django.utils.timezone.now,
                        editable=False,
                        verbose_name="modified",
                    ),
                ),
                ("name", models.CharField(max_length=64)),
                ("slug", models.SlugField(max_length=30, unique=True)),
            ],
            options={
                "abstract": False,
            },
        ),
        migrations.CreateModel(
            name="EnterpriseFeatureRole",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="EnterpriseFeatureUserRoleAssignment",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="EnterpriseGroup",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="EnterpriseGroupMembership",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="LearnerCreditEnterpriseCourseEnrollment",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="LicensedEnterpriseCourseEnrollment",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="PendingEnrollment",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="PendingEnterpriseCustomerAdminUser",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="PendingEnterpriseCustomerUser",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="SystemWideEnterpriseRole",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "created",
                    model_utils.fields.AutoCreatedField(
                        default=django.utils.timezone.now,
                        editable=False,
                        verbose_name="created",
                    ),
                ),
                (
                    "modified",
                    model_utils.fields.AutoLastModifiedField(
                        default=django.utils.timezone.now,
                        editable=False,
                        verbose_name="modified",
                    ),
                ),
                ("name", models.CharField(db_index=True, max_length=255, unique=True)),
                ("description", models.TextField(blank=True, null=True)),
            ],
            options={
                "abstract": False,
            },
        ),
        migrations.CreateModel(
            name="EnterpriseCustomer",
            fields=[
                (
                    "created",
                    model_utils.fields.AutoCreatedField(
                        default=django.utils.timezone.now,
                        editable=False,
                        verbose_name="created",
                    ),
                ),
                (
                    "modified",
                    model_utils.fields.AutoLastModifiedField(
                        default=django.utils.timezone.now,
                        editable=False,
                        verbose_name="modified",
                    ),
                ),
                (
                    "uuid",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "name",
                    models.CharField(
                        help_text="Enterprise Customer name.", max_length=255
                    ),
                ),
                (
                    "slug",
                    models.SlugField(
                        default="default",
                        help_text='A short string uniquely identifying this enterprise. Cannot contain spaces and should be a usable as a CSS class. Examples: "ubc", "mit-staging"',
                        max_length=30,
                        unique=True,
                    ),
                ),
                ("active", models.BooleanField(default=True)),
                (
                    "country",
                    django_countries.fields.CountryField(max_length=2, null=True),
                ),
                (
                    "hide_course_original_price",
                    models.BooleanField(
                        default=False,
                        verbose_name="Hide course price on learning platform",
                    ),
                ),
                (
                    "enable_data_sharing_consent",
                    models.BooleanField(
                        default=False,
                        verbose_name="Activate data sharing consent prompt",
                    ),
                ),
                (
                    "enforce_data_sharing_consent",
                    models.CharField(
                        choices=[
                            ("at_enrollment", "At Enrollment"),
                            ("externally_managed", "Managed externally"),
                        ],
                        default="at_enrollment",
                        max_length=25,
                        verbose_name="Data sharing consent enforcement:",
                    ),
                ),
                (
                    "enable_audit_enrollment",
                    models.BooleanField(
                        default=False,
                        verbose_name="Enable audit enrollment for learning platform learners",
                    ),
                ),
                (
                    "enable_audit_data_reporting",
                    models.BooleanField(
                        default=False,
                        verbose_name="Enable audit enrollment data reporting for learning platform learners",
                    ),
                ),
                (
                    "contact_email",
                    models.EmailField(
                        blank=True,
                        max_length=254,
                        null=True,
                        verbose_name="Customer admin contact email:",
                    ),
                ),
                (
                    "default_language",
                    models.CharField(
                        blank=True,
                        default=None,
                        max_length=25,
                        null=True,
                        verbose_name="Learner default language",
                    ),
                ),
                (
                    "sender_alias",
                    models.CharField(
                        blank=True,
                        max_length=255,
                        null=True,
                        verbose_name="Automated email sender alias",
                    ),
                ),
                (
                    "reply_to",
                    models.EmailField(
                        blank=True,
                        max_length=254,
                        null=True,
                        verbose_name="Customer “reply to” email:",
                    ),
                ),
                (
                    "hide_labor_market_data",
                    models.BooleanField(
                        default=False,
                        verbose_name="Hide labor market data on skill features",
                    ),
                ),
                ("auth_org_id", models.CharField(blank=True, max_length=80, null=True)),
                (
                    "enable_generation_of_api_credentials",
                    models.BooleanField(
                        default=False,
                        verbose_name="Allow generation of API credentials",
                    ),
                ),
                ("learner_portal_sidebar_content", models.TextField(blank=True)),
                (
                    "site",
                    models.ForeignKey(
                        default=django.contrib.sites.shortcuts.get_current_site,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="enterprise_customers",
                        to="sites.site",
                    ),
                ),
            ],
            options={
                "verbose_name": "Enterprise Customer",
                "verbose_name_plural": "Enterprise Customers",
            },
        ),
        migrations.CreateModel(
            name="EnterpriseCustomerCatalog",
            fields=[
                (
                    "created",
                    model_utils.fields.AutoCreatedField(
                        default=django.utils.timezone.now,
                        editable=False,
                        verbose_name="created",
                    ),
                ),
                (
                    "modified",
                    model_utils.fields.AutoLastModifiedField(
                        default=django.utils.timezone.now,
                        editable=False,
                        verbose_name="modified",
                    ),
                ),
                ("title", models.CharField(max_length=255)),
                (
                    "uuid",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "content_filter",
                    jsonfield.fields.JSONField(
                        blank=True,
                        default={},
                        dump_kwargs={
                            "cls": jsonfield.encoder.JSONEncoder,
                            "indent": 4,
                            "separators": (",", ":"),
                        },
                        load_kwargs={"object_pairs_hook": collections.OrderedDict},
                        null=True,
                        validators=[
                            enterprise.validators.validate_content_filter_fields
                        ],
                    ),
                ),
                (
                    "enabled_course_modes",
                    jsonfield.fields.JSONField(
                        default=enterprise.constants.json_serialized_course_modes
                    ),
                ),
                ("publish_audit_enrollment_urls", models.BooleanField(default=False)),
                (
                    "enterprise_catalog_query",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="ep_customer_catalog_query",
                        to="enterprise.enterprisecatalogquery",
                    ),
                ),
                (
                    "enterprise_customer",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="ep_customer_catalogs",
                        to="enterprise.enterprisecustomer",
                    ),
                ),
            ],
            options={
                "verbose_name": "Enterprise Customer Catalog",
                "verbose_name_plural": "Enterprise Customer Catalogs",
                "ordering": ["created"],
            },
        ),
        migrations.AddField(
            model_name="enterprisecustomer",
            name="enterprise_customer_catalogs",
            field=models.ManyToManyField(
                to="enterprise.enterprisecustomercatalog",
                verbose_name="Enterprise Customer Catalogs",
            ),
        ),
        migrations.CreateModel(
            name="EnterpriseCustomerIdentityProvider",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("provider_id", models.SlugField(max_length=255)),
                ("default_provider", models.BooleanField(default=False)),
                (
                    "enterprise_customer",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="enterprise_customer_identity_providers",
                        to="enterprise.enterprisecustomer",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="EnterpriseCustomerUser",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "created",
                    model_utils.fields.AutoCreatedField(
                        default=django.utils.timezone.now,
                        editable=False,
                        verbose_name="created",
                    ),
                ),
                (
                    "modified",
                    model_utils.fields.AutoLastModifiedField(
                        default=django.utils.timezone.now,
                        editable=False,
                        verbose_name="modified",
                    ),
                ),
                ("user_id", models.PositiveIntegerField(db_index=True)),
                ("active", models.BooleanField(default=True)),
                ("linked", models.BooleanField(default=False)),
                ("is_relinkable", models.BooleanField(default=True)),
                (
                    "enterprise_customer",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="enterprise_customer_users",
                        to="enterprise.enterprisecustomer",
                    ),
                ),
                (
                    "invite_key",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to="enterprise.enterprisecustomerinvitekey",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="EnterpriseCourseEnrollment",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("course_id", models.CharField(max_length=255)),
                ("saved_for_later", models.BooleanField(default=False)),
                (
                    "enterprise_customer_user",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="enterprise_enrollments",
                        to="enterprise.enterprisecustomeruser",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="SystemWideEnterpriseUserRoleAssignment",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "created",
                    model_utils.fields.AutoCreatedField(
                        default=django.utils.timezone.now,
                        editable=False,
                        verbose_name="created",
                    ),
                ),
                (
                    "modified",
                    model_utils.fields.AutoLastModifiedField(
                        default=django.utils.timezone.now,
                        editable=False,
                        verbose_name="modified",
                    ),
                ),
                (
                    "applies_to_all_contexts",
                    models.BooleanField(
                        default=False,
                        help_text="If true, indicates that the user is effectively assigned their role for any and all contexts. Defaults to False.",
                    ),
                ),
                (
                    "role",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="system_wide_role_assignments",
                        to="enterprise.systemwideenterpriserole",
                    ),
                ),
                (
                    "user",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
        ),
    ]
